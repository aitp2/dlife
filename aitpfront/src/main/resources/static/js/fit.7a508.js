webpackJsonp([0],[,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(313),n={getAllFitnessActivities:{url:a.API_SERVER+"/fitness-activities",method:"get",headers:!1},createFitnessActivity:{url:a.API_SERVER+"/fitness-activities",method:"post",headers:!1},getFitnessActicity:{url:a.API_SERVER+"/fitness-activities/{{id}}",method:"get",headers:!1},deleteFitnessActivity:{url:a.API_SERVER+"/fitness-activities/{{id}}",method:"delete",headers:!1},updateFitnessActivity:{url:a.API_SERVER+"/fitness-activities",method:"put",headers:!1},getActivitiesByWechatUserId:{url:a.API_SERVER+"/fitness-activities/getActivitiesByWechatUserId",method:"get",headers:!1},viewCreateFitnessActivity:{url:a.API_SERVER+"/fitness-activities/createView/{{wechatUserId}}",method:"get",headers:!1},readPinCount:{url:a.API_SERVER+"/fitness-activities/readingCount",method:"PUT",headers:!1},getAllActivityParticipations:{url:a.API_SERVER+"/activity-participation",method:"get",headers:!1},createActivityParticipation:{url:a.API_SERVER+"/activity-participations",method:"post",headers:!1},deleteActivityParticipation:{url:a.API_SERVER+"/activity-participations/{{id}}",method:"delete",headers:!1},getActivityParticipation:{url:a.API_SERVER+"/activity-participations/{{wechatUserId}}/{{activityId}}",method:"get",headers:!1},getParticipationsByActivityId:{url:a.API_SERVER+"/activity-participations/getParticipationsByActivityId",method:"get",headers:!1},getActivityParticpationDynamic:{url:a.API_SERVER+"/clock-ins/getClockinsByActivityId",method:"get",headers:!1},sendFitnessMessage:{url:a.NEW_API_SERVER+"/fitness/sendFitnessMessage",method:"get",headers:!1},pinFanReadingCount:{url:a.API_SERVER+"/fitness-activities/readingCount",method:"put",headers:!1},getAllPics:{url:a.API_SERVER+"/pics",method:"get",headers:!1},createPics:{url:a.API_SERVER+"/pics",method:"post",headers:!1},createMultiPics:{url:a.API_SERVER+"/multi-pics",method:"post",headers:!1},getPics:{url:a.API_SERVER+"/pics/{{id}}",method:"get",headers:!1},getAllClockIns:{url:a.API_SERVER+"/clock-ins",method:"get",headers:!1},createClockIn:{url:a.API_SERVER+"/clock-ins",method:"post",headers:!1},getClockIn:{url:a.API_SERVER+"/clock-ins/{{id}}",method:"get",headers:!1},getClockinsByActivityParticipationId:{url:a.API_SERVER+"/clock-ins/getClockinsByActivityParticipationId",method:"get",headers:!1},getClockinsByWechatUserIdAndDate:{url:a.API_SERVER+"/clock-ins/getClockinsByWechatUserIdAndDate",method:"get",headers:!1},getClockinSummaryByWechatId:{url:a.API_SERVER+"/clockin-summaries/getByWechatUserId",method:"get",headers:!1},getAllWechatUsers:{url:a.API_SERVER+"/wechat-users",method:"get",headers:!1},updateWechatUser:{url:a.API_SERVER+"/wechat-users",method:"put",headers:!1},getWechatUser:{url:a.API_SERVER+"/wechat-users/{{id}}",method:"get",headers:!1}};e.default=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.default.getFitnessActicity.url.replace("{{id}}",e),s=(0,n.default)({},c.default.getFitnessActicity,{url:i}),t.next=4,(0,r.fetchAPI)(s);case 4:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activityId:activityId};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.default)(a.default.mark(function t(){var i,s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.activityId){t.next=3;break}return t.abrupt("return");case 3:return i=(0,r.joinParams)(e),s=c.default.getParticipationsByActivityId.url+"/?"+i,u=(0,n.default)({},c.default.getParticipationsByActivityId,{url:s}),t.next=8,(0,r.fetchAPI)(u);case 8:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}))());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e,i,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.default.createActivityParticipation.url,i=(0,n.default)({},c.default.createActivityParticipation,{url:e,body:u}),t.next=4,(0,r.fetchAPI)(i);case 4:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(i(44)),n=r(i(29)),s=r(i(118));function r(t){return t&&t.__esModule?t:{default:t}}e.default={name:"app",components:{Foot:a.default,Spin:n.default,imagePreview:s.default},data:function(){return{list:[{icon:"ios-home-outline",name:"首页",url:"/",meta:""},{icon:"ios-plus-outline",name:"发布",url:"/publish",meta:""},{icon:"ios-person-outline",name:"我的",url:"/user",meta:""}],isLoading:!1,spinText:"请稍后",hasPublished:!1,hasJoined:!1,isImagePreview:!1,imageList:[],imagePreviewPos:0}},methods:{switchLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"请稍后";this.isLoading=t,this.spinText=e},openImagePreview:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.isImagePreview=t,this.imageList=e,this.imagePreviewPos=i}},created:function(){},mounted:function(){}}},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(i(0)),n=d(i(1)),s=d(i(64)),r=i(5),c=(i(2),d(i(121))),u=d(i(123)),o=d(i(124)),l=d(i(315));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"index",components:{Row:r.Row,Col:r.Col,Icon:r.Icon,popularActivity:c.default},data:function(){return{isLoaded:!1,activities:[],userInfo:wechatUser,myActivities:[],summary:{serialCount:0,totallyCount:0,weeklyCount:0}}},methods:{init:function(){var t=(0,n.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"查询中"),t.next=3,this.getClockinSummaryByWechatId();case 3:return t.next=5,this.getAllFitnessActivities();case 5:return t.next=7,this.getActivitiesByWechatUserId();case 7:this.isLoaded=!0,this.$root.$children[0].switchLoading(!1);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getClockinSummaryByWechatId:function(){var t=(0,n.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.default)({wechatUserId:wechatUser.wechatUserId});case 2:(e=t.sent)&&(this.summary=e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getAllFitnessActivities:function(){var t=(0,n.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.default)({page:0,size:6,sort:["modifyTime","desc"]});case 2:e=t.sent,this.activities=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getActivitiesByWechatUserId:function(){var t=(0,n.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.default)({wechatUserId:wechatUser.wechatUserId,sort:["id","desc"]});case 2:e=t.sent,this.myActivities=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),gotoDetail:function(t){this.$router.push({path:"detail/"+t})},goAnchor:function(t){var e=this.$el.querySelector(t);document.documentElement.scrollTop=e.offsetTop,document.body.scrollTop=e.offsetTop},createSwiper:function(){new s.default(".swiper-container",{loop:!0,autoplay:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},paginationClickable:!0,observer:!0,observeParents:!0})}},mounted:function(){document.documentElement.scrollTop=0,this.init(),this.createSwiper()},activated:function(){!0===this.$root.$children[0].hasPublished&&(this.init(),this.$root.$children[0].hasPublished=!1),!0===this.$root.$children[0].hasJoined&&(this.getActivitiesByWechatUserId(),this.$root.$children[0].hasJoined=!1)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(122),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(314),c=i(4),u=!1;var o=function(t){u||i(311)},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-2dd2d74e",null);l.options.__file="dev/components/fit/popularActivity.vue",e.default=l.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i(312),s=(a=n)&&a.__esModule?a:{default:a};e.default={name:"popular-activity",data:function(){return{}},props:{activities:Array},methods:{gotoDetail:function(t){if(!sessionStorage.getItem("fit"+t)){sessionStorage.setItem("fit"+t,1);(0,s.default)({id:t})}this.$router.push({path:"detail/"+t})}},mounted:function(){},filters:{nullToZero:function(t){return t||0}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.page,e.size,e.sort,i=(0,r.joinParams)(e),s=c.default.getAllFitnessActivities.url+"/?"+i,u=(0,n.default)({},c.default.getAllFitnessActivities,{url:s}),t.next=6,(0,r.fetchAPI)(u);case 6:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wechatUserId:wechatUserId,sort:sort};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.default)(a.default.mark(function t(){var i,s,u,o,l;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.wechatUserId,e.sort,i){t.next=3;break}return t.abrupt("return");case 3:return s=(0,r.joinParams)(e),u=c.default.getActivitiesByWechatUserId.url+"/?"+s,o=(0,n.default)({},c.default.getActivitiesByWechatUserId,{url:u}),t.next=8,(0,r.fetchAPI)(o);case 8:return l=t.sent,t.abrupt("return",l);case 11:case"end":return t.stop()}},t,this)}))());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=I(i(11)),n=I(i(0)),s=I(i(1)),r=i(5),c=I(i(320)),u=I(i(321)),o=I(i(71)),l=I(i(126)),d=I(i(72)),f=I(i(73)),v=I(i(322)),p=I(i(63)),h=I(i(66)),m=I(i(127)),_=I(i(67)),y=I(i(129)),g=I(i(326)),w=I(i(74)),C=i(2);function I(t){return t&&t.__esModule?t:{default:t}}e.default={name:"detail",components:{Icon:r.Icon,Row:r.Row,Col:r.Col,Swiper:p.default,Attendee:h.default,Comments:_.default,"big-img":m.default},filters:{decodeBase64:function(t){return t?(0,C.decodeBase64)(t):t},nullToZero:function(t){return t||0}},data:function(){return{isLoaded:!1,showImg:!1,imgSrc:"",isMine:!1,activity:{title:"",number:4,nickName:"",companyRole:"",avatar:"",project:"",signStartTime:"",signEndTime:"",activityStartTime:"",activityEndTime:""},activityId:this.$route.params.id,join:[],isNotJoined:!0,images:[],userInfo:wechatUser,overdue:0,canClick:!0,list:"",dynamicList:[],personId:"",showStatus:!0}},methods:{weChatShare:function(){var t=(0,s.default)(n.default.mark(function t(e){var i,a,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this,t.next=3,(0,w.default)(e);case 3:a=t.sent,s={debug:!1,appId:a.appId,timestamp:a.timestamp,nonceStr:a.nonceStr,signature:a.signature,jsApiList:["onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ","onMenuShareWeibo"]},wx.config(s),wx.error(function(t){i.weChatShare()});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),wechatReady:function(t){wx.onMenuShareAppMessage(t),wx.onMenuShareTimeline(t)},showRank:function(){this.showStatus=!0},showDynamic:function(){this.showStatus=!1},init:function(){var t=(0,s.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"活动查询中"),t.next=3,this.weChatShare(encodeURIComponent(window.location.href));case 3:return t.next=5,this.getFitnessActivity();case 5:return t.next=7,this.getActivityParticipation();case 7:return t.next=9,this.getParticipationsByActivityId();case 9:return t.next=11,this.getActivityParticpationDynamic(this.activityId);case 11:this.$root.$children[0].switchLoading(!1),this.isLoaded=!0,this.getComments(this.activityId),this.fetchReadPinCount(this.activityId);case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getFitnessActivity:function(){var t=(0,s.default)(n.default.mark(function t(){var e,i,s,r,c,u,l,d,f,v;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.next=3,(0,o.default)(this.activityId);case 3:for(i=t.sent,this.activity=i,s={title:this.activity.title||"活动标题",desc:this.activity.desc||"活动描述",link:window.location.href,imgUrl:this.activity.images[0].ossPath},wx.ready(function(){e.wechatReady(s)}),this.overdue=i.status,i.wechatUserId==wechatUser.wechatUserId&&(this.isMine=!0),r=[],c=!0,u=!1,l=void 0,t.prev=14,d=(0,a.default)(i.images);!(c=(f=d.next()).done);c=!0)v=f.value,r.push(v.ossPath);t.next=22;break;case 18:t.prev=18,t.t0=t.catch(14),u=!0,l=t.t0;case 22:t.prev=22,t.prev=23,!c&&d.return&&d.return();case 25:if(t.prev=25,!u){t.next=28;break}throw l;case 28:return t.finish(25);case 29:return t.finish(22);case 30:this.images=r;case 32:case"end":return t.stop()}},t,this,[[14,18,22,30],[23,,25,29]])}));return function(){return t.apply(this,arguments)}}(),getActivityParticipation:function(){var t=(0,s.default)(n.default.mark(function t(){var e;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.default)(wechatUser.wechatUserId,this.activityId);case 2:e=t.sent,this.isNotJoined=!e;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getParticipationsByActivityId:function(){var t=(0,s.default)(n.default.mark(function t(){var e,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.default)({activityId:this.activityId});case 2:for(e=t.sent,this.join=e,i=0;i<e.length;i++)e[i].wechatUserId==wechatUser.wechatUserId&&(this.personId=e[i].id);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),joinActivities:function(){var t=(0,s.default)(n.default.mark(function t(){var e;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.canClick){t.next=2;break}return t.abrupt("return");case 2:return this.$root.$children[0].switchLoading(!0,"报名中"),t.next=5,(0,f.default)({activityId:this.activity.id,wechatUserId:wechatUser.wechatUserId});case 5:return e=t.sent,this.$root.$children[0].switchLoading(!1),e.id?((0,C.showMessage)("success","报名成功"),this.canClick=!1,this.isNotJoined=!1,this.$root.$children[0].hasJoined=!0):400===e.status&&(0,C.showMessage)("error",e.errorKey),t.next=10,this.getActivityParticipation();case 10:return t.next=12,this.getParticipationsByActivityId();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),delYear:function(t){return(0,C.delYear)(t)},formatDate:function(t){return(0,C.formatDate)(t)},clickImg:function(t){this.showImg=!0,this.imgSrc=t.currentTarget.src},viewImg:function(){this.showImg=!1},getComments:function(){var t=(0,s.default)(n.default.mark(function t(e){var i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"加载讨论"),t.next=3,(0,y.default)({channel:"FIT",objectId:e,page:0,size:200,sort:["createTime","desc"]});case 3:if(i=t.sent,this.$root.$children[0].switchLoading(!1),i){t.next=7;break}return t.abrupt("return");case 7:this.list=i;case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getActivityParticpationDynamic:function(){var t=(0,s.default)(n.default.mark(function t(e){var i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.default)({activityId:this.activityId});case 2:i=t.sent,this.dynamicList=i;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),cancelApply:function(){var t=(0,s.default)(n.default.mark(function t(){var e,i=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.default)(this.personId);case 2:500===(e=t.sent).status?(0,C.showMessage)("error",e.title):(this.isShowTips=!1,(0,C.showMessage)("success","取消成功",function(){i.$router.push("/user")}));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancelActivity:function(){var t=(0,s.default)(n.default.mark(function t(){var e=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.default)(this.activity.id);case 2:t.sent,(0,C.showMessage)("success","取消成功",function(){e.$router.push("/user")});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),editActivity:function(){this.$router.push("/publish/"+this.activity.id)},openClickPreview:function(t,e){this.$root.$children[0].openImagePreview("open",t,e)},fetchReadPinCount:function(){var t=(0,s.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.default)(e);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){this.init()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e,i){var s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=c.default.getActivityParticipation.url.replace("{{wechatUserId}}",e).replace("{{activityId}}",i),u=(0,n.default)({},c.default.getActivityParticipation,{url:s}),t.next=4,(0,r.fetchAPI)(u);case 4:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}()},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=v(i(0)),n=v(i(1)),s=v(i(11)),r=i(5),c=v(i(26)),u=v(i(13)),o=v(i(131)),l=v(i(73)),d=v(i(330)),f=i(2);function v(t){return t&&t.__esModule?t:{default:t}}e.default={name:"publish",components:{Icon:r.Icon,Upload:u.default,Modal:c.default},data:function(){return{title:"",signStartTime:"",signEndTime:"",activityStartTime:"",activityEndTime:"",description:"",userInfo:wechatUser,lastDay:"",dialog:""}},methods:{submit:function(){return this.title&&this.description&&this.$refs.upload.files.length?(0,f.isEarlierThanToday)(this.activityStartTime,1)?(this.dialog="活动开始时间需大于当前日期",void(this.$refs.modal.isOpen=!0)):void this.$refs.upload.$refs.startUpload.click():(this.dialog="请输入完整的相关信息",void(this.$refs.modal.isOpen=!0))},finishUpload:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var n,r=(0,s.default)(this.$refs.upload.ossPath);!(e=(n=r.next()).done);e=!0){var c=n.value;t.push({ossPath:c})}}catch(t){i=!0,a=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw a}}this.createFitnessActivity({activityEndTime:(0,f.addLastTime)(this.activityStartTime,this.lastDay),activityStartTime:this.activityStartTime+" 00:00:00",attendCount:0,descrption:this.description,images:t,title:this.title,wechatUserId:this.userInfo.wechatUserId})},createFitnessActivity:function(){var t=(0,n.default)(a.default.mark(function t(e){var i,n=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"活动发布中"),t.next=3,(0,o.default)(e);case 3:i=t.sent,this.$root.$children[0].switchLoading(!1),this.joinActivities(i.id),(0,f.showMessage)("success","发布成功",function(){n.$root.$children[0].hasPublished=!0,n.$router.replace("/detail/"+i.id)});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),joinActivities:function(){var t=(0,n.default)(a.default.mark(function t(e){var i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={activityId:e,wechatUserId:this.userInfo.wechatUserId},t.next=3,(0,l.default)(i);case 3:t.sent;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){(0,d.default)(wechatUser.wechatUserId)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e,i,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.default.createFitnessActivity.url,i=(0,n.default)({},c.default.createFitnessActivity,{url:e,body:u}),t.next=4,(0,r.fetchAPI)(i);case 4:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=v(i(11)),n=v(i(0)),s=v(i(1)),r=i(5),c=v(i(26)),u=v(i(13)),o=v(i(334)),l=v(i(71)),d=v(i(335)),f=(v(i(131)),v(i(73)),i(2));function v(t){return t&&t.__esModule?t:{default:t}}e.default={name:"publishModify",components:{Icon:r.Icon,Upload:u.default,Modal:c.default},data:function(){return{title:"",signStartTime:"",signEndTime:"",activityStartTime:"",activityEndTime:"",description:"",userInfo:wechatUser,lastDay:"",dialog:"",pics:[]}},methods:{sendFitnessMessage:function(){var t=(0,s.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.default)(e);case 2:t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getFitnessActivity:function(){var t=(0,s.default)(n.default.mark(function t(e){var i,s,r,c,u,o,d;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.default)(e);case 2:if(i=t.sent,this.activity=i,this.title=i.title,this.signStartTime=i.signStartTime,this.signEndTime=i.signEndTime,this.activityStartTime=i.activityStartTime.split(" ")[0],this.activityEndTime=i.activityEndTime,this.description=i.descrption,this.lastDay=(new Date(i.activityEndTime)-new Date(i.activityStartTime)+1e3)/1e3/24/60/60,this.id=i.id,!i.images.length){t.next=33;break}for(s=!0,r=!1,c=void 0,t.prev=17,u=(0,a.default)(i.images);!(s=(o=u.next()).done);s=!0)d=o.value,this.$refs.upload.files.push({src:d.ossPath}),this.pics.push({ossPath:d.ossPath});t.next=25;break;case 21:t.prev=21,t.t0=t.catch(17),r=!0,c=t.t0;case 25:t.prev=25,t.prev=26,!s&&u.return&&u.return();case 28:if(t.prev=28,!r){t.next=31;break}throw c;case 31:return t.finish(28);case 32:return t.finish(25);case 33:case"end":return t.stop()}},t,this,[[17,21,25,33],[26,,28,32]])}));return function(e){return t.apply(this,arguments)}}(),submit:function(){return this.title&&this.description&&this.$refs.upload.files.length?(0,f.isEarlierThanToday)(this.activityStartTime,1)?(this.dialog="活动开始时间需大于当前日期",void(this.$refs.modal.isOpen=!0)):void(this.$refs.upload.filesLength?this.$refs.upload.$refs.startUpload.click():this.finishUpload()):(this.dialog="请输入完整的相关信息",void(this.$refs.modal.isOpen=!0))},finishUpload:function(){var t=!0,e=!1,i=void 0;try{for(var n,s=(0,a.default)(this.$refs.upload.ossPath);!(t=(n=s.next()).done);t=!0){var r=n.value;this.pics.push({ossPath:r})}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}this.updateFitnessActivity({id:this.id,activityEndTime:(0,f.addLastTime)(this.activityStartTime,this.lastDay),activityStartTime:this.activityStartTime+" 00:00:00",attendCount:this.activity.attendCount,descrption:this.description,images:this.pics,title:this.title,status:0,wechatUserId:this.userInfo.wechatUserId}),this.sendFitnessMessage({id:parseInt(this.$route.params.id),state:"update"})},updateFitnessActivity:function(){var t=(0,s.default)(n.default.mark(function t(e){var i=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"活动发布中"),t.next=3,(0,o.default)(e);case 3:t.sent,this.$root.$children[0].switchLoading(!1),(0,f.showMessage)("success","修改成功",function(){i.$root.$children[0].hasPublished=!0,i.$router.replace("/detail/"+i.id)});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){var t=this.$route.params.id;this.getFitnessActivity(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=f(i(11)),n=f(i(0)),s=f(i(1)),r=i(5),c=f(i(13)),u=(f(i(29)),f(i(71))),o=f(i(339)),l=i(2),d=f(i(72));function f(t){return t&&t.__esModule?t:{default:t}}e.default={name:"check",components:{Input:r.Input,Upload:c.default,Button:r.Button},data:function(){return{activity:{},activityId:"",signNote:"",activityParticipationId:0,userInfo:{}}},methods:{getUser:function(){var t=(0,s.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.userInfo=wechatUser,t.next=3,this.$root.$children[0].switchLoading(!0,"加载中");case 3:return t.next=5,this.getFitnessActivity();case 5:return t.next=7,this.getParticipationsByActivityId();case 7:this.$root.$children[0].switchLoading(!1);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getFitnessActivity:function(){var t=(0,s.default)(n.default.mark(function t(){var e;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.default)(this.activityId);case 2:e=t.sent,this.activity=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getParticipationsByActivityId:function(){var t=(0,s.default)(n.default.mark(function t(){var e,i,s,r,c,u,o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.default)({activityId:this.activityId});case 2:for(e=t.sent,i=!0,s=!1,r=void 0,t.prev=6,c=(0,a.default)(e);!(i=(u=c.next()).done);i=!0)(o=u.value).wechatUserId===wechatUser.wechatUserId&&(this.activityParticipationId=o.id);t.next=14;break;case 10:t.prev=10,t.t0=t.catch(6),s=!0,r=t.t0;case 14:t.prev=14,t.prev=15,!i&&c.return&&c.return();case 17:if(t.prev=17,!s){t.next=20;break}throw r;case 20:return t.finish(17);case 21:return t.finish(14);case 22:case"end":return t.stop()}},t,this,[[6,10,14,22],[15,,17,21]])}));return function(){return t.apply(this,arguments)}}(),submit:function(){if(this.$root.$children[0].switchLoading(!0,"上传中"),this.$refs.upload.files.length)this.$refs.upload.$refs.startUpload.click();else{var t={activityParticipationId:this.activityParticipationId,signNote:this.signNote,title:this.activity.title,wechatUserId:wechatUser.wechatUserId};this.createClockIn(t)}},finishUpload:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var s,r=(0,a.default)(this.$refs.upload.ossPath);!(e=(s=r.next()).done);e=!0){var c=s.value;t.push({ossPath:c})}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}var u={activityParticipationId:this.activityParticipationId,signNote:this.signNote,pics:t,title:this.activity.title,wechatUserId:wechatUser.wechatUserId};this.createClockIn(u)},createClockIn:function(){var t=(0,s.default)(n.default.mark(function t(e){var i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.default)(e);case 2:i=t.sent,this.$root.$children[0].switchLoading(!1),400===i.status?(0,l.showMessage)("error",i.errorKey):((0,l.showMessage)("success","打卡成功"),this.$router.push({path:"/detail/"+this.activityId})),this.getUser();case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){this.activityId=this.$route.params.id,this.getUser()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(i(0)),n=l(i(1)),s=i(5),r=l(i(344)),c=l(i(126)),u=l(i(124)),o=i(2);function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"personalCenter",components:{DatePicker:s.DatePicker,Icon:s.Icon},data:function(){return{userInfo:wechatUser,lists:[],chooseDate:(0,o.formatDate)(new Date),isOpen:!0,isMyPublish:0,record:[],activityStatus:{1:"进行中",2:"已结束"}}},methods:{init:function(){var t=(0,n.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClockinsByWechatUserIdAndDate();case 2:return t.next=4,this.getActivitiesByWechatUserId();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleDateChange:function(t){this.chooseDate=t,this.getClockinsByWechatUserIdAndDate()},getClockinsByWechatUserIdAndDate:function(){var t=(0,n.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"加载中"),t.next=3,(0,r.default)({wechatUserId:this.userInfo.wechatUserId,yearMonthDate:this.chooseDate});case 3:e=t.sent,this.$root.$children[0].switchLoading(!1),this.record=e;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getActivitiesByWechatUserId:function(){var t=(0,n.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.default)({wechatUserId:wechatUser.wechatUserId,sort:[]});case 2:e=t.sent,this.lists=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),gotoDetail:function(t){this.$router.push({path:"detail/"+t})},getActivityParticipation:function(){var t=(0,n.default)(a.default.mark(function t(e){var i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.default)(e);case 2:i=t.sent,this.$router.push("/detail/"+i.activityId);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),openClickPreview:function(t,e){this.$root.$children[0].openImagePreview("open",t,e)},showPop:function(t){var e=this,i=[];this.lists.forEach(function(t){t.isShowPop=!1}),this.lists[t].isShowPop=!0,this.lists=this.lists.concat(i),setTimeout(function(){e.lists.forEach(function(t){t.isShowPop=!1}),e.lists=e.lists.concat(i)},1e3)}},mounted:function(){this.init()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(i(11)),n=d(i(0)),s=d(i(1)),r=i(5),c=i(2),u=d(i(350)),o=d(i(72)),l=d(i(351));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"record",components:{Row:r.Row,Col:r.Col,Icon:r.Icon,Timeline:r.Timeline,TimelineItem:r.TimelineItem},filters:{decodeBase64:function(t){return t?(0,c.decodeBase64)(t):t}},data:function(){return{activityParticipationId:"",wechatUserId:this.$route.query.wechatUserId,activityId:this.$route.query.activity,record:[],rate:parseInt(this.$route.query.rate)+1,userInfo:{}}},methods:{load:function(){var t=(0,s.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"活动加载中"),t.next=3,this.getWechatUser();case 3:return t.next=5,this.getParticipationsByActivityId();case 5:this.$root.$children[0].switchLoading(!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getParticipationsByActivityId:function(){var t=(0,s.default)(n.default.mark(function t(){var e,i,s,r,c,u,l;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.default)({activityId:this.activityId});case 2:for(e=t.sent,i=!0,s=!1,r=void 0,t.prev=6,c=(0,a.default)(e);!(i=(u=c.next()).done);i=!0)(l=u.value).wechatUserId===this.wechatUserId&&(this.activityParticipationId=l.id);t.next=14;break;case 10:t.prev=10,t.t0=t.catch(6),s=!0,r=t.t0;case 14:t.prev=14,t.prev=15,!i&&c.return&&c.return();case 17:if(t.prev=17,!s){t.next=20;break}throw r;case 20:return t.finish(17);case 21:return t.finish(14);case 22:this.getClockinsByActivityParticipationId();case 23:case"end":return t.stop()}},t,this,[[6,10,14,22],[15,,17,21]])}));return function(){return t.apply(this,arguments)}}(),getClockinsByActivityParticipationId:function(){var t=(0,s.default)(n.default.mark(function t(){var e;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.default)({activityParticipationId:this.activityParticipationId});case 2:e=t.sent,this.record=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getWechatUser:function(){var t=(0,s.default)(n.default.mark(function t(){var e;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.default)(this.wechatUserId);case 2:e=t.sent,this.userInfo=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onlyFormatDate:function(t){return(0,c.onlyFormatDate)(t)},openClickPreview:function(t,e){this.$root.$children[0].openImagePreview("open",t,e)}},mounted:function(){this.load()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c(i(0)),n=c(i(1)),s=c(i(121)),r=c(i(123));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"popluar",components:{popularActivity:s.default},data:function(){return{activities:[]}},methods:{load:function(){var t=(0,n.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.getAllFitnessActivities();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getAllFitnessActivities:function(){var t=(0,n.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"活动查询中"),t.next=3,(0,r.default)({page:0,size:100,sort:["modifyTime","desc"]});case 3:e=t.sent,this.activities=e,this.$root.$children[0].switchLoading(!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.load()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(i(11)),n=d(i(0)),s=d(i(1)),r=i(5),c=i(2),u=d(i(138)),o=d(i(13)),l=d(i(26));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"discuss",components:{Icon:r.Icon,Upload:o.default,Modal:l.default},data:function(){return{content:"",dialog:"",id:""}},methods:{createComments:function(){var t=(0,s.default)(n.default.mark(function t(e){var i,a=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$root.$children[0].switchLoading(!0,"讨论发表中"),t.next=3,(0,u.default)(e);case 3:if(i=t.sent,this.$root.$children[0].switchLoading(!1),i){t.next=7;break}return t.abrupt("return");case 7:(0,c.showMessage)("success","发布成功",function(){a.$router.replace("/detail/"+i.objectId)});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),submit:function(){if(!this.content)return this.dialog="请输入讨论内容",void(this.$refs.modal.isOpen=!0);this.$refs.upload.files.length?this.$refs.upload.$refs.startUpload.click():this.finishUpload()},finishUpload:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var s,r=(0,a.default)(this.$refs.upload.ossPath);!(e=(s=r.next()).done);e=!0){var c=s.value;t.push({ossPath:c})}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}this.createComments({commentPics:t,channel:"FIT",content:this.content,objectId:this.id,wechatUserId:wechatUser.wechatUserId})}},mounted:function(){this.id=this.$route.params.id}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var a=c(i(21)),n=c(i(301)),s=c(i(308));i(68),i(69),i(70);var r=c(i(139));function c(t){return t&&t.__esModule?t:{default:t}}a.default.use(r.default),new a.default({el:"#app",router:s.default,template:"<App/>",components:{App:n.default}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(117),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(307),c=i(4),u=!1;var o=function(t){u||i(302)},l=Object(c.a)(n.a,r.a,r.b,!1,o,null,null);l.options.__file="dev/pages/fit/App.vue",e.default=l.exports},function(t,e,i){var a=i(303);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(15).default)("33f60c0a",a,!1,{})},function(t,e,i){(t.exports=i(14)(!1)).push([t.i,"\n.app {\n  padding-bottom: 0.5rem\n}\n",""])},,,,function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app"},[i("keep-alive",{attrs:{include:"index"}},[i("router-view")],1),t._v(" "),i("foot",{attrs:{list:t.list}}),t._v(" "),i("spin",{attrs:{isLoading:t.isLoading,spinText:t.spinText}}),t._v(" "),i("image-preview",{directives:[{name:"show",rawName:"v-show",value:t.isImagePreview,expression:"isImagePreview"}],attrs:{image:t.imageList,pos:t.imagePreviewPos}})],1)},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=g(i(0)),n=g(i(35)),s=g(i(1)),r=g(i(21)),c=g(i(56)),u=i(2),o=g(i(62)),l=g(i(309)),d=g(i(317)),f=g(i(328)),v=g(i(332)),p=g(i(337)),h=g(i(341)),m=g(i(346)),_=g(i(353)),y=g(i(356));g(i(74));function g(t){return t&&t.__esModule?t:{default:t}}r.default.use(c.default);var w,C=[{path:"/",name:"Index",component:l.default},{path:"/detail/:id",name:"Detail",component:d.default},{path:"/publish",name:"Publish",component:f.default},{path:"/publish/:id",name:"PublishModify",component:v.default},{path:"/check/:id",name:"Check",component:p.default},{path:"/user",name:"User",component:h.default},{path:"/record",name:"Record",component:m.default},{path:"/popular",name:"Popular",component:_.default},{path:"/discuss/:id",name:"Discuss",component:y.default}],I=new c.default({mode:"history",routes:C,scrollBehavior:function(t,e,i){return{x:0,y:0}},base:"/pages/fit/index.html"});I.beforeEach((w=(0,s.default)(a.default.mark(function t(e,i,s){var r,c,l,d,f;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(alert("enter router"),null==(r=sessionStorage.getItem("needChangeFitUrl"))&&(sessionStorage.setItem("needChangeFitUrl",1),r=1),c="/pages/fit/index.html"+e.fullPath,!(l=JSON.parse(sessionStorage.getItem("wechatUser")))){t.next=10;break}window.wechatUser={wechatUserId:l.userId,avatar:l.headimgurl,nickName:l.userName,sex:l.sex,country:l.country,province:l.province,city:l.city},(0,u.isIOS)()&&1==r&&e.path.indexOf("detail")>0?(sessionStorage.setItem("needChangeFitUrl",0),location.assign(c)):(sessionStorage.setItem("needChangeFitUrl",1),s()),t.next=22;break;case 10:if(d=(0,u.getUrlParam)("code"),alert(d),!d){t.next=21;break}return t.next=15,(0,o.default)(d);case 15:(f=t.sent)&&sessionStorage.setItem("wechatUser",(0,n.default)(f)),window.wechatUser={wechatUserId:f.userId,avatar:f.headimgurl,nickName:f.userName,sex:f.sex,country:f.country,province:f.province,city:f.city},s(),t.next=22;break;case 21:location.href=(0,u.createWechatUrl)();case 22:case"end":return t.stop()}},t,void 0)})),function(t,e,i){return w.apply(this,arguments)})),e.default=I},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(120),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(316),c=i(4),u=!1;var o=function(t){u||i(310)},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-4a9e9813",null);l.options.__file="dev/pages/fit/views/index/index.vue",e.default=l.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.id,i=(0,r.joinParams)(e),s=c.default.pinFanReadingCount.url+"/?"+i,u=(0,n.default)({},c.default.pinFanReadingCount,{url:s}),t.next=6,(0,r.fetchAPI)(u);case 6:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.API_SERVER="http://newapi.aitpgroup.tech:8080/api",e.NEW_API_SERVER="http://newapi.aitpgroup.tech"},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"activity"},t._l(t.activities,function(e,a){return i("div",{key:a,staticClass:"popular",on:{click:function(i){t.gotoDetail(e.id)}}},[i("div",{staticClass:"section"},[i("div",{staticClass:"act-img mb10"},[i("img",{staticClass:"avatar",attrs:{src:e.images.length?e.images[0].ossPath:"",alt:""}})]),t._v(" "),i("h3",[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"description"},[t._v(t._s(e.descrption))]),t._v(" "),i("span",{staticClass:"pr5"},[i("strong",[t._v(t._s(t._f("nullToZero")(e.readingCount)))]),t._v("浏览")]),t._v(" "),i("span",{staticClass:"pr5"},[i("strong",[t._v(t._s(e.commentCount))]),t._v("讨论")]),t._v(" "),i("span",[i("strong",[t._v(t._s(e.attendCount))]),t._v("报名")])])])])}))},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wechatUserId:wechatUserId};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.default)(a.default.mark(function t(){var i,s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.wechatUserId){t.next=3;break}return t.abrupt("return");case 3:return i=(0,r.joinParams)(e),s=c.default.getClockinSummaryByWechatId.url+"?"+i,u=(0,n.default)({},c.default.getClockinSummaryByWechatId,{url:s}),t.next=8,(0,r.fetchAPI)(u);case 8:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}))());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticClass:"fit"},[i("div",{staticClass:"top-container"},[i("div",{staticClass:"avatar-container"},[i("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatar,alt:""}})]),t._v(" "),i("p",{staticClass:"name black"},[t._v(t._s(t.userInfo.nickName))])]),t._v(" "),i("div",{staticClass:"sport-container"},[i("div",{staticClass:"sport-item"},[i("p",{staticClass:"sport-title"},[t._v("打卡总天数")]),t._v(" "),i("p",{staticClass:"sport-num"},[t._v(t._s(t.summary.totallyCount))]),t._v(" "),i("p",{staticClass:"sport-day"},[t._v("本周已打卡\n        "),i("span",{staticClass:"num"},[t._v(t._s(t.summary.weeklyCount))]),t._v("\n        天\n      ")])]),t._v(" "),i("Row",{staticClass:"switch-container"},[i("Col",{staticClass:"black switch-item",attrs:{span:"12"}},[i("p",{on:{click:function(e){t.goAnchor("#anchor")}}},[i("Icon",{staticClass:"switch-icon",attrs:{type:"android-happy"}})],1),t._v(" "),i("p",[t._v("去打卡")])]),t._v(" "),i("router-link",{attrs:{to:"/user"}},[i("Col",{staticClass:"black switch-item",attrs:{span:"12"}},[i("p",[i("Icon",{staticClass:"switch-icon",attrs:{type:"calendar"}})],1),t._v(" "),i("p",[t._v("连续打卡\n            "),i("span",{staticClass:"num"},[t._v(t._s(t.summary.serialCount))]),t._v("\n            天")])])],1)],1)],1),t._v(" "),i("div",{staticClass:"hot-container"},[i("div",{staticClass:"title"},[i("router-link",{staticStyle:{color:"#495060",display:"block",overflow:"hidden"},attrs:{to:"/popular"}},[i("span",{staticClass:"fl fs16"},[t._v("热门活动")]),t._v(" "),i("span",{staticClass:"fr fs16"},[i("span",{staticClass:"fs12"},[t._v("查看所有>")])])])],1),t._v(" "),i("div",{staticClass:"hot-item-container"},[i("div",{staticClass:"swiper-container"},[i("div",{staticClass:"swiper-wrapper"},t._l(t.activities,function(e,a){return i("div",{key:a,staticClass:"swiper-slide hot-item",on:{click:function(i){t.gotoDetail(e.id)}}},[i("div",{staticClass:"hot-pic-container"},[i("div",{staticClass:"hot-pic",style:"background-image: url("+e.images[0].ossPath+");"})]),t._v(" "),i("p",{staticClass:"hot-title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"description"},[t._v(t._s(e.descrption))]),i("span",[i("span",{staticClass:"num"},[t._v(t._s(e.attendCount))]),t._v("报名")])])])}))])])]),t._v(" "),i("div",{staticClass:"mine-container",attrs:{id:"anchor"}},[i("p",{staticClass:"title fs16"},[t._v("我的活动")]),t._v(" "),t.myActivities.length?i("popularActivity",{attrs:{activities:t.myActivities}}):t._e(),t._v(" "),t.myActivities.length?t._e():i("p",{staticClass:"tr m15"},[t._v("您暂时没有参加活动哦")])],1)])},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(125),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(327),c=i(4),u=!1;var o=function(t){u||(i(318),i(319))},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-62fc7c46",null);l.options.__file="dev/pages/fit/views/detail/index.vue",e.default=l.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.default.deleteActivityParticipation.url.replace("{{id}}",e),s=(0,n.default)({},c.default.deleteActivityParticipation,{url:i}),t.next=4,(0,r.fetchAPI)(s);case 4:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.default.deleteFitnessActivity.url.replace("{{id}}",e),s=(0,n.default)({},c.default.deleteFitnessActivity,{url:i}),t.next=4,(0,r.fetchAPI)(s);case 4:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,r.joinParams)({id:e}),s=c.default.readPinCount.url+"/?"+i,u=(0,n.default)({},c.default.readPinCount,{url:s}),t.next=5,(0,r.fetchAPI)(u);case 5:return o=t.sent,t.abrupt("return",o);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activityId:activityId};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.default)(a.default.mark(function t(){var i,s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.activityId){t.next=3;break}return t.abrupt("return");case 3:return i=(0,r.joinParams)(e),s=c.default.getActivityParticpationDynamic.url+"/?"+i,u=(0,n.default)({},c.default.getActivityParticpationDynamic,{url:s}),t.next=8,(0,r.fetchAPI)(u);case 8:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}))());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoaded?i("div",[t.showImg?i("big-img",{attrs:{imgSrc:t.imgSrc},on:{clickit:t.viewImg}}):t._e(),t._v(" "),i("swiper",{attrs:{image:t.images}}),t._v(" "),i("div",{staticClass:"act-title"},[i("p",{staticClass:"act-name"},[t._v(t._s(t.activity.title))]),t._v(" "),i("div",{staticClass:"info mt10"},[i("span",[t._v("活动时间")]),i("span",[t._v(t._s(t.formatDate(t.activity.activityStartTime)+"~"+t.formatDate(t.activity.activityEndTime)))])])]),t._v(" "),i("attendee",{attrs:{list:t.join,attendText:"报名"}}),t._v(" "),i("div",{staticClass:"section publisher"},[i("img",{staticClass:"avatar pubulisher-avatar",attrs:{src:t.activity.avatar,alt:""}}),t._v(" "),i("div",{staticClass:"publisher-info"},[i("p",{staticClass:"publisher-name"},[t._v("发起人："+t._s(t._f("decodeBase64")(t.activity.nickName)))]),t._v(" "),i("p",[t._v("公司角色：--")]),t._v(" "),i("p",[t._v("所属项目：--")])])]),t._v(" "),i("div",{staticClass:"section"},[i("h3",[t._v("详情"),i("p",{staticClass:"fr fs12 grey"},[t._v(t._s(t._f("nullToZero")(t.activity.readingCount))+"浏览")])]),t._v(" "),i("pre",{staticClass:"fs12",staticStyle:{"margin-top":"0"},domProps:{innerHTML:t._s(t.activity.descrption)}})]),t._v(" "),i("div",{staticClass:"section"},[i("div",{staticClass:"title",class:{selected:t.showStatus},on:{click:t.showRank}},[t._v("排行榜")]),t._v(" "),i("div",{staticClass:"title",class:{selected:!t.showStatus},on:{click:t.showDynamic}},[t._v("动态")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showStatus,expression:"showStatus"}],staticClass:"rank"},[t._l(t.join,function(e,a){return t.join.length?i("Row",{key:a,staticClass:"rank-item"},[i("router-link",{attrs:{to:"/record?wechatUserId="+e.wechatUserId+"&activity="+t.activity.id+"&rate="+a}},[i("Col",{staticClass:"rank-index",attrs:{span:"2"}},[t._v(t._s(a+1))]),t._v(" "),i("Col",{attrs:{span:"4"}},[i("img",{staticClass:"rank-avatar",attrs:{src:e.avatar,alt:""}})]),t._v(" "),i("Col",{staticClass:"black rank-info",attrs:{span:"10"}},[i("div",{staticClass:"name"},[t._v(t._s(t._f("decodeBase64")(e.nickName)))]),t._v(" "),i("div",[t._v(t._s(e.project))])]),t._v(" "),i("Col",{staticClass:"rank-num",attrs:{span:"8"}},[i("div",{staticClass:"num"},[t._v(t._s(e.clockinCount))]),t._v(" "),i("div",{staticClass:"fs12 black"},[t._v("打卡次数")])])],1)],1):t._e()}),t._v(" "),t.join.length?t._e():i("p",[t._v("暂无排行榜")])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showStatus,expression:"!showStatus"}],staticClass:"dynamic"},[t.dynamicList&&t.dynamicList.length?i("div",{staticClass:"comments"},t._l(t.dynamicList,function(e,a){return i("div",{key:a,staticClass:"comments-item"},[i("div",{staticClass:"comments-info"},[i("img",{staticClass:"avatar mr5",attrs:{src:e.avatar}}),t._v(" "),i("div",{staticClass:"comment-ctn"},[i("strong",[t._v(t._s(t._f("decodeBase64")(e.nickName)))]),t._v(" "),i("small",[t._v("打了一次卡")]),t._v(" "),i("p",{staticClass:"comment-date"},[t._v(t._s(e.punchDateTime))]),t._v(" "),i("p",[t._v(t._s(e.signNote))])])]),t._v(" "),t._l(e.pics,function(a,n){return e.pics.length?i("div",{key:a.id},[i("img",{staticClass:"pic mr5",attrs:{src:a.ossPath,alt:""},on:{click:function(i){t.openClickPreview(e.pics,n)}}})]):t._e()})],2)})):t._e()])]),t._v(" "),i("div",{staticClass:"section"},[i("h3",[t._v("讨论区("+t._s(t.list.length)+")\n      "),i("router-link",{staticClass:"create-comment",attrs:{to:{path:"/discuss/"+t.activityId}}},[t._v("发讨论")])],1),t._v(" "),i("Comments",{attrs:{list:t.list}})],1),t._v(" "),i("div",{staticClass:"button-container"},[i("Row",[i("Col",{attrs:{span:"14"}},[2===t.overdue?i("span",{staticClass:"status pl15"},[t._v("活动已结束")]):t._e(),t._v(" "),1===t.overdue?i("span",{staticClass:"status pl15"},[t._v("活动进行中")]):t._e(),t._v(" "),0===t.overdue?i("span",{staticClass:"status pl15"},[t._v("活动未开始")]):t._e()]),t._v(" "),i("Col",{staticStyle:{"border-left":"1px solid #dadada"},attrs:{span:"4"}},[2!=t.overdue?i("v-popover",{staticClass:"showtip-wrap",attrs:{offset:"16"}},[i("button",{staticClass:"tooltip-target showtip"},[t._v("···")]),t._v(" "),i("template",{slot:"popover"},[t.isMine||t.isNotJoined||2==t.overdue?t._e():i("span",{on:{click:t.cancelApply}},[t._v("取消报名")]),t._v(" "),t.isMine?i("div",{on:{click:t.editActivity}},[t._v("编辑活动")]):t._e()])],2):t._e()],1),t._v(" "),i("Col",{attrs:{span:"6"}},[t.isNotJoined||1!==t.overdue?t._e():i("router-link",{staticClass:"check black",attrs:{to:"/check/"+t.activity.id}},[t._v("去打卡")]),t._v(" "),t.isNotJoined&&2!==t.overdue?i("p",{staticClass:"check black",on:{click:t.joinActivities}},[t._v("去报名")]):t._e(),t._v(" "),t.isNotJoined||0!==t.overdue?t._e():i("p",{staticClass:"check-end check black"},[t._v("去打卡")]),t._v(" "),2===t.overdue?i("p",{staticClass:"check black check-end"},[t._v("活动结束")]):t._e()],1)],1)],1)],1):t._e()},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(130),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(331),c=i(4),u=!1;var o=function(t){u||i(329)},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-1cfa9290",null);l.options.__file="dev/pages/fit/views/publish/index.vue",e.default=l.exports},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.default.viewCreateFitnessActivity.url.replace("{{wechatUserId}}",e),s=(0,n.default)({},c.default.viewCreateFitnessActivity,{url:i}),t.next=4,(0,r.fetchAPI)(s);case 4:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"publish"},[i("div",{staticClass:"publish-item"},[i("span",{staticClass:"title"},[t._v("标题")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-item",attrs:{type:"text tr"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"publish-item"},[i("span",{staticClass:"title fg1"},[t._v("活动开始时间")]),t._v(" "),i("label",{staticClass:"tr fg1",attrs:{for:"activityStartTime"}},[t._v(t._s(t.activityStartTime))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.activityStartTime,expression:"activityStartTime"}],staticClass:"form-item tr",staticStyle:{opacity:"0",position:"absolute"},attrs:{id:"activityStartTime",type:"date",placeholder:"选择开始时间"},domProps:{value:t.activityStartTime},on:{input:function(e){e.target.composing||(t.activityStartTime=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"publish-item"},[i("span",{staticClass:"title fg1"},[t._v("活动持续时间")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.lastDay,expression:"lastDay"}],staticClass:"form-item tr",attrs:{type:"tel",placeholder:"选择持续时间"},domProps:{value:t.lastDay},on:{input:function(e){e.target.composing||(t.lastDay=e.target.value)}}}),t._v(" "),i("span",[t._v("天")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"publish-item",staticStyle:{border:"none"}},[i("Upload",{ref:"upload",attrs:{finishUpload:t.finishUpload}})],1),t._v(" "),i("div",{staticClass:"publish-item item-photo"}),t._v(" "),i("div",{staticClass:"publish-item item-description"},[i("p",{staticClass:"title"},[t._v("活动描述")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-item comment-text",attrs:{placeholder:"准备了哪什么活动给你的小伙伴呢?"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),i("div",{staticStyle:{width:"100%","text-align":"center",padding:"0.15rem 0"}},[i("button",{staticClass:"btn",on:{click:t.submit}},[i("Icon",{staticClass:"icon",attrs:{type:"ios-paperplane-outline",size:"30"}}),t._v("\n      发布\n    ")],1)]),t._v(" "),i("Modal",{ref:"modal",attrs:{dialog:t.dialog}})],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"publish-item",staticStyle:{border:"none"}},[e("span",{staticClass:"title fg1"},[this._v("封面图")]),this._v(" "),e("span",{staticClass:"comment"},[this._v("请上传封面图片")])])}];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(132),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(336),c=i(4),u=!1;var o=function(t){u||i(333)},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-59d049ec",null);l.options.__file="dev/pages/fit/views/PublishModify/index.vue",e.default=l.exports},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e,i,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.default.updateFitnessActivity.url,i=(0,n.default)({},c.default.updateFitnessActivity,{url:e,body:u}),t.next=4,(0,r.fetchAPI)(i);case 4:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:id,state:state};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.default)(a.default.mark(function t(){var i,s,u,o,l,d;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.id,s=e.state,u=(0,r.joinParams)({id:i,state:s}),o=c.default.sendFitnessMessage.url+"?"+u,l=(0,n.default)({},c.default.sendFitnessMessage,{url:o}),t.next=6,(0,r.fetchAPI)(l);case 6:return d=t.sent,t.abrupt("return",d);case 9:case"end":return t.stop()}},t,this)}))());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"publish"},[i("div",{staticClass:"publish-item"},[i("span",{staticClass:"title"},[t._v("标题")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-item",attrs:{type:"text tr"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"publish-item"},[i("span",{staticClass:"title fg1"},[t._v("活动开始时间")]),t._v(" "),i("label",{staticClass:"tr fg1",attrs:{for:"activityStartTime"}},[t._v(t._s(t.activityStartTime))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.activityStartTime,expression:"activityStartTime"}],staticClass:"form-item tr",staticStyle:{opacity:"0",position:"absolute"},attrs:{id:"activityStartTime",type:"date",placeholder:"选择开始时间"},domProps:{value:t.activityStartTime},on:{input:function(e){e.target.composing||(t.activityStartTime=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"publish-item"},[i("span",{staticClass:"title fg1"},[t._v("活动持续时间")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.lastDay,expression:"lastDay"}],staticClass:"form-item tr",attrs:{type:"tel",placeholder:"选择持续时间"},domProps:{value:t.lastDay},on:{input:function(e){e.target.composing||(t.lastDay=e.target.value)}}}),t._v(" "),i("span",[t._v("天")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"publish-item",staticStyle:{border:"none"}},[i("Upload",{ref:"upload",attrs:{finishUpload:t.finishUpload}})],1),t._v(" "),i("div",{staticClass:"publish-item item-photo"}),t._v(" "),i("div",{staticClass:"publish-item item-description"},[i("p",{staticClass:"title"},[t._v("活动描述")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-item comment-text",attrs:{placeholder:"准备了哪什么活动给你的小伙伴呢?"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),i("div",{staticStyle:{width:"100%","text-align":"center",padding:"0.15rem 0"}},[i("button",{staticClass:"btn",on:{click:t.submit}},[i("Icon",{staticClass:"icon",attrs:{type:"ios-paperplane-outline",size:"30"}}),t._v("\n      发布\n    ")],1)]),t._v(" "),i("Modal",{ref:"modal",attrs:{dialog:t.dialog}})],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"publish-item",staticStyle:{border:"none"}},[e("span",{staticClass:"title fg1"},[this._v("封面图")]),this._v(" "),e("span",{staticClass:"comment"},[this._v("请上传封面图片")])])}];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(133),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(340),c=i(4),u=!1;var o=function(t){u||i(338)},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-33ca08c9",null);l.options.__file="dev/pages/fit/views/check/index.vue",e.default=l.exports},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e,i,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.default.createClockIn.url,i=(0,n.default)({},c.default.createClockIn,{url:e,body:u}),t.next=4,(0,r.fetchAPI)(i);case 4:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"check"},[t.activity.images?i("img",{staticClass:"check-img",attrs:{src:t.activity.images[0].ossPath,alt:""}}):t._e(),t._v(" "),i("div",{staticClass:"info-container"},[i("p",{staticClass:"fs18"},[t._v(t._s(t.activity.title))]),t._v(" "),i("p",{staticClass:"info"},[t._v(t._s(t.activity.descrption))])]),t._v(" "),i("div",{staticClass:"diary-container"},[i("p",{staticClass:"fs14 black"},[t._v("请输入签到日记")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.signNote,expression:"signNote"}],staticClass:"diary",attrs:{rows:"6",placeholder:"请输入你的签到日记吧"},domProps:{value:t.signNote},on:{input:function(e){e.target.composing||(t.signNote=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"upload-container"},[i("upload",{ref:"upload",attrs:{finishUpload:t.finishUpload}})],1),t._v(" "),i("div",{staticClass:"button-container"},[i("Button",{staticClass:"check-button fs16 black",attrs:{long:""},on:{click:t.submit}},[t._v("打卡")])],1)])},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(134),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(345),c=i(4),u=!1;var o=function(t){u||(i(342),i(343))},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-29daa918",null);l.options.__file="dev/pages/fit/views/user-center/index.vue",e.default=l.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wechatUserId:wechatUserId,yearMonthDate:yearMonthDate};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.default)(a.default.mark(function t(){var i,s,u,o,l,d;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.wechatUserId,s=e.yearMonthDate,i||s){t.next=3;break}return t.abrupt("return");case 3:return u=(0,r.joinParams)(e),o=c.default.getClockinsByWechatUserIdAndDate.url+"/?"+u,l=(0,n.default)({},c.default.getClockinsByWechatUserIdAndDate,{url:o}),t.next=8,(0,r.fetchAPI)(l);case 8:return d=t.sent,t.abrupt("return",d);case 11:case"end":return t.stop()}},t,this)}))());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"personal"},[i("div",{staticClass:"info"},[i("div",{staticClass:"photo",style:{backgroundImage:"url("+t.userInfo.avatar+")"}}),t._v(" "),i("div",{staticClass:"detail"},[i("h3",{staticClass:"f218"},[t._v(t._s(t.userInfo.nickName))])])]),t._v(" "),i("div",{staticClass:"section"},[i("DatePicker",{staticStyle:{width:"100%"},attrs:{value:t.chooseDate,open:t.isOpen,type:"date",format:"yyyy-MM-dd"},on:{"on-change":t.handleDateChange}})],1),t._v(" "),i("div",{staticClass:"section mt10"},[i("h3",[t._v(t._s(t.chooseDate)+"打卡记录")]),t._v(" "),t._l(t.record,function(e){return t.record.length?i("div",{key:e.index,staticClass:"record-container"},[i("Icon",{staticClass:"record-icon",attrs:{type:"ios-calendar-outline",size:"30"}}),t._v(" "),i("div",{staticClass:"record-content"},[i("p",[t._v(t._s(e.title))]),t._v(" "),i("p",[t._v(t._s(e.signNote))])]),t._v(" "),e.pics?i("div",{staticClass:"record-img-container"},t._l(e.pics,function(a,n){return i("div",{key:n,staticClass:"record-img",style:"background-image: url("+a.ossPath+");",on:{click:function(i){t.openClickPreview(e.pics,n)}}})})):t._e(),t._v(" "),i("p",{staticClass:"record-time"},[t._v(t._s(e.punchDateTime))])],1):t._e()}),t._v(" "),t.record.length?t._e():i("p",{staticClass:"tc m15"},[t._v("您今天暂未打卡")])],2)])},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(135),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(352),c=i(4),u=!1;var o=function(t){u||(i(347),i(348))},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-627fd046",null);l.options.__file="dev/pages/fit/views/record/index.vue",e.default=l.exports},function(t,e){},function(t,e,i){var a=i(349);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(15).default)("91bd21ce",a,!1,{})},function(t,e,i){(t.exports=i(14)(!1)).push([t.i,"\n.record .ivu-timeline-item-head {\n  background: #fff;\n  margin-top:20px;\n}\n",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activityParticipationId:activityParticipationId};return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.default)(a.default.mark(function t(){var i,s,u,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.activityParticipationId){t.next=3;break}return t.abrupt("return");case 3:return i=(0,r.joinParams)(e),s=c.default.getClockinsByActivityParticipationId.url+"/?"+i,u=(0,n.default)({},c.default.getClockinsByActivityParticipationId,{url:s}),t.next=8,(0,r.fetchAPI)(u);case 8:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}))());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i(0)),n=u(i(3)),s=u(i(1)),r=i(2),c=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=(0,s.default)(a.default.mark(function t(e){var i,s,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.default.getWechatUser.url.replace("{{id}}",e),s=(0,n.default)({},c.default.getWechatUser,{url:i}),t.next=4,(0,r.fetchAPI)(s);case 4:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"record"},[i("div",{staticClass:"top-container"},[i("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatar,alt:""}}),t._v(" "),i("p",{staticClass:"name black"},[t._v(t._s(t._f("decodeBase64")(t.userInfo.nickName)))]),t._v(" "),i("Row",{staticClass:"switch-container"},[i("Col",{staticClass:"switch-item",attrs:{span:"12"}},[i("p",{staticClass:"num"},[t._v(t._s(t.rate))]),t._v(" "),i("p",{staticClass:"black"},[t._v("当前排名")])]),t._v(" "),i("Col",{staticClass:"switch-item",attrs:{span:"12"}},[i("p",{staticClass:"num"},[t._v(t._s(t.record.length))]),t._v(" "),i("p",{staticClass:"black"},[t._v("累计打卡")])])],1)],1),t._v(" "),i("div",{staticClass:"timeline-container"},[t.record.length?i("Timeline",t._l(t.record,function(e,a){return i("TimelineItem",{key:a,staticClass:"time-item"},[i("Icon",{staticClass:"time-icon",attrs:{slot:"dot",type:"calendar"},slot:"dot"}),t._v(" "),i("p",{staticClass:"time-date",attrs:{slot:"dot"},slot:"dot"},[t._v(t._s(t.onlyFormatDate(e.punchDateTime)))]),t._v(" "),i("div",{staticClass:"timeline-item"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.signNote))]),t._v(" "),i("p",{staticClass:"item-content"},[t._v(t._s(e.title))]),t._v(" "),e.pics?i("div",{staticClass:"item-pics"},t._l(e.pics,function(a,n){return i("div",{key:n,staticClass:"img",style:"background-image: url("+a.ossPath+");",on:{click:function(i){t.openClickPreview(e.pics,n)}}})})):t._e(),t._v(" "),i("p",{staticClass:"item-time"},[t._v(t._s(e.punchDateTime))])])],1)})):t._e(),t._v(" "),t.record.length?t._e():i("p",{staticClass:"no-activity"},[t._v("暂未参加活动")])],1)])},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(136),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(355),c=i(4),u=!1;var o=function(t){u||i(354)},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-7f54984c",null);l.options.__file="dev/pages/fit/views/popular/index.vue",e.default=l.exports},function(t,e){},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this.$createElement;return(this._self._c||t)("popular-activity",{attrs:{activities:this.activities}})},n=[];a._withStripped=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(137),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i(358),c=i(4),u=!1;var o=function(t){u||i(357)},l=Object(c.a)(n.a,r.a,r.b,!1,o,"data-v-5cebb821",null);l.options.__file="dev/pages/fit/views/discuss/index.vue",e.default=l.exports},function(t,e){},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"discuss"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"content",attrs:{placeholder:"内容描述"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),i("div",{staticClass:"discuss-item"},[i("Upload",{ref:"upload",attrs:{finishUpload:t.finishUpload}})],1),t._v(" "),i("div",{staticStyle:{"text-align":"center",padding:"0.15rem 0"}},[i("button",{staticClass:"btn",on:{click:t.submit}},[i("Icon",{staticClass:"icon",attrs:{type:"ios-paperplane-outline",size:"30"}}),t._v("发表")],1)]),t._v(" "),i("Modal",{ref:"modal",attrs:{dialog:t.dialog}})],1)},n=[];a._withStripped=!0}],[300]);